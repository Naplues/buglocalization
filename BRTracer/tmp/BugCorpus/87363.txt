regress menudetect longer open menu bug introduc nov 5 2004 prior control showmenu boolean showmenu int int event event event event event sendev swt menudetect event event doit return true menu null amp amp menu isdispos event event menu setloc event event menu setvis true return true return fals menu creat menudetect listen notif menu field updat menu set visibl nov 5 2004 method move widget boolean showmenu menu menu int int event event event event event sendev swt menudetect event event doit return true menu null amp amp menu isdispos event event menu setloc event event menu setvis true return true return fals menu local variabl updat menu creat menudetect event demonstr problem public static void main string arg displai displai displai final shell shell shell displai shell addlisten swt menudetect listen int count 0 public void handleev event event menu menu shell getmenu menu null menu dispos menu menu shell swt pop menuitem item menuitem menu swt push item settext menu count shell setmenu menu shell pack shell open shell isdispos displai readanddispatch displai sleep displai dispos